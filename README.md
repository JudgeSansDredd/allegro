# Allegro, for Fast Timekeeping

[![forthebadge](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNjguMDQ5OTk5OTk5OTk5OTUiIGhlaWdodD0iMzUiIHZpZXdCb3g9IjAgMCAyNjguMDQ5OTk5OTk5OTk5OTUgMzUiPjxyZWN0IGNsYXNzPSJzdmdfX3JlY3QiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMjEuNTYiIGhlaWdodD0iMzUiIGZpbGw9IiNBN0JGQzEiLz48cmVjdCBjbGFzcz0ic3ZnX19yZWN0IiB4PSIxMTkuNTYiIHk9IjAiIHdpZHRoPSIxNDguNDg5OTk5OTk5OTk5OTgiIGhlaWdodD0iMzUiIGZpbGw9IiNDMTNCM0EiLz48cGF0aCBjbGFzcz0ic3ZnX190ZXh0IiBkPSJNMTUuMDAgMjJMMTMuNDYgMjJMMTYuNjggMTMuNDdMMTguMDEgMTMuNDdMMjEuMjQgMjJMMTkuNjkgMjJMMTguOTkgMjAuMDFMMTUuNjkgMjAuMDFMMTUuMDAgMjJaTTE3LjM0IDE1LjI4TDE2LjEwIDE4LjgyTDE4LjU4IDE4LjgyTDE3LjM0IDE1LjI4Wk0yNS4wNiAxOS4xNkwyNS4wNiAxOS4xNkwyNS4wNiAxMy40N0wyNi41MyAxMy40N0wyNi41MyAxOS4xOFEyNi41MyAyMC4wMyAyNi45NyAyMC40OFEyNy40MCAyMC45MyAyOC4yNCAyMC45M0wyOC4yNCAyMC45M1EyOS45NiAyMC45MyAyOS45NiAxOS4xM0wyOS45NiAxOS4xM0wyOS45NiAxMy40N0wzMS40MyAxMy40N0wzMS40MyAxOS4xN1EzMS40MyAyMC41MyAzMC41NiAyMS4zMlEyOS42OSAyMi4xMiAyOC4yNCAyMi4xMkwyOC4yNCAyMi4xMlEyNi43OCAyMi4xMiAyNS45MiAyMS4zM1EyNS4wNiAyMC41NSAyNS4wNiAxOS4xNlpNMzcuNjggMTQuNjZMMzUuMDUgMTQuNjZMMzUuMDUgMTMuNDdMNDEuODEgMTMuNDdMNDEuODEgMTQuNjZMMzkuMTUgMTQuNjZMMzkuMTUgMjJMMzcuNjggMjJMMzcuNjggMTQuNjZaTTQ1LjMwIDE4LjAwTDQ1LjMwIDE4LjAwTDQ1LjMwIDE3LjUyUTQ1LjMwIDE2LjI4IDQ1Ljc0IDE1LjMyUTQ2LjE5IDE0LjM3IDQ2Ljk5IDEzLjg2UTQ3LjgwIDEzLjM1IDQ4Ljg0IDEzLjM1UTQ5Ljg4IDEzLjM1IDUwLjY5IDEzLjg1UTUxLjQ5IDE0LjM1IDUxLjkzIDE1LjI5UTUyLjM3IDE2LjIzIDUyLjM4IDE3LjQ4TDUyLjM4IDE3LjQ4TDUyLjM4IDE3Ljk2UTUyLjM4IDE5LjIxIDUxLjk1IDIwLjE2UTUxLjUxIDIxLjEwIDUwLjcxIDIxLjYxUTQ5LjkwIDIyLjEyIDQ4Ljg1IDIyLjEyTDQ4Ljg1IDIyLjEyUTQ3LjgxIDIyLjEyIDQ3LjAwIDIxLjYxUTQ2LjE5IDIxLjEwIDQ1Ljc1IDIwLjE3UTQ1LjMxIDE5LjIzIDQ1LjMwIDE4LjAwWk00Ni43OCAxNy40Nkw0Ni43OCAxNy45NlE0Ni43OCAxOS4zNiA0Ny4zMyAyMC4xM1E0Ny44OCAyMC45MCA0OC44NSAyMC45MEw0OC44NSAyMC45MFE0OS44NCAyMC45MCA1MC4zNyAyMC4xNVE1MC45MCAxOS40MCA1MC45MCAxNy45Nkw1MC45MCAxNy45Nkw1MC45MCAxNy41MVE1MC45MCAxNi4wOSA1MC4zNiAxNS4zNFE0OS44MiAxNC41OCA0OC44NCAxNC41OEw0OC44NCAxNC41OFE0Ny44OCAxNC41OCA0Ny4zNCAxNS4zM1E0Ni44MCAxNi4wOSA0Ni43OCAxNy40Nkw0Ni43OCAxNy40NlpNNTguMzIgMjJMNTYuODQgMjJMNTYuODQgMTMuNDdMNTguNzcgMTMuNDdMNjEuMjMgMjAuMDFMNjMuNjggMTMuNDdMNjUuNjAgMTMuNDdMNjUuNjAgMjJMNjQuMTIgMjJMNjQuMTIgMTkuMTlMNjQuMjcgMTUuNDNMNjEuNzUgMjJMNjAuNjkgMjJMNTguMTcgMTUuNDNMNTguMzIgMTkuMTlMNTguMzIgMjJaTTcxLjEyIDIyTDY5LjU4IDIyTDcyLjgwIDEzLjQ3TDc0LjEzIDEzLjQ3TDc3LjM2IDIyTDc1LjgxIDIyTDc1LjExIDIwLjAxTDcxLjgxIDIwLjAxTDcxLjEyIDIyWk03My40NiAxNS4yOEw3Mi4yMiAxOC44Mkw3NC43MCAxOC44Mkw3My40NiAxNS4yOFpNODIuOTkgMTQuNjZMODAuMzYgMTQuNjZMODAuMzYgMTMuNDdMODcuMTMgMTMuNDdMODcuMTMgMTQuNjZMODQuNDcgMTQuNjZMODQuNDcgMjJMODIuOTkgMjJMODIuOTkgMTQuNjZaTTk2LjQ2IDIyTDkwLjg4IDIyTDkwLjg4IDEzLjQ3TDk2LjQyIDEzLjQ3TDk2LjQyIDE0LjY2TDkyLjM2IDE0LjY2TDkyLjM2IDE3LjAyTDk1Ljg3IDE3LjAyTDk1Ljg3IDE4LjE5TDkyLjM2IDE4LjE5TDkyLjM2IDIwLjgyTDk2LjQ2IDIwLjgyTDk2LjQ2IDIyWk0xMDMuMTEgMjJMMTAwLjY1IDIyTDEwMC42NSAxMy40N0wxMDMuMTcgMTMuNDdRMTA0LjMxIDEzLjQ3IDEwNS4xOCAxMy45N1ExMDYuMDYgMTQuNDggMTA2LjU0IDE1LjQwUTEwNy4wMiAxNi4zMyAxMDcuMDIgMTcuNTJMMTA3LjAyIDE3LjUyTDEwNy4wMiAxNy45NVExMDcuMDIgMTkuMTYgMTA2LjUzIDIwLjA4UTEwNi4wNSAyMS4wMCAxMDUuMTYgMjEuNTBRMTA0LjI2IDIyIDEwMy4xMSAyMkwxMDMuMTEgMjJaTTEwMi4xNCAxNC42NkwxMDIuMTQgMjAuODJMMTAzLjEwIDIwLjgyUTEwNC4yNyAyMC44MiAxMDQuODkgMjAuMDlRMTA1LjUyIDE5LjM2IDEwNS41MyAxNy45OUwxMDUuNTMgMTcuOTlMMTA1LjUzIDE3LjUyUTEwNS41MyAxNi4xMyAxMDQuOTMgMTUuNDBRMTA0LjMyIDE0LjY2IDEwMy4xNyAxNC42NkwxMDMuMTcgMTQuNjZMMTAyLjE0IDE0LjY2WiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGNsYXNzPSJzdmdfX3RleHQiIGQ9Ik0xMzUuNTQgMTUuNDhMMTMyLjk2IDE1LjQ4TDEzMi45NiAxMy42MEwxNDAuNDggMTMuNjBMMTQwLjQ4IDE1LjQ4TDEzNy45MSAxNS40OEwxMzcuOTEgMjJMMTM1LjU0IDIyTDEzNS41NCAxNS40OFpNMTQ3LjIzIDIyTDE0NC44NSAyMkwxNDQuODUgMTMuNjBMMTQ3LjIzIDEzLjYwTDE0Ny4yMyAyMlpNMTU0LjYwIDIyTDE1Mi40MCAyMkwxNTIuNDAgMTMuNjBMMTU0LjM2IDEzLjYwTDE1Ny4zMSAxOC40NUwxNjAuMjAgMTMuNjBMMTYyLjE1IDEzLjYwTDE2Mi4xNyAyMkwxNTkuOTkgMjJMMTU5Ljk3IDE3LjU1TDE1Ny44MSAyMS4xN0wxNTYuNzUgMjEuMTdMMTU0LjYwIDE3LjY3TDE1NC42MCAyMlpNMTc0LjA4IDIyTDE2Ny4zMyAyMkwxNjcuMzMgMTMuNjBMMTczLjkzIDEzLjYwTDE3My45MyAxNS40NEwxNjkuNjkgMTUuNDRMMTY5LjY5IDE2Ljg1TDE3My40MiAxNi44NUwxNzMuNDIgMTguNjNMMTY5LjY5IDE4LjYzTDE2OS42OSAyMC4xN0wxNzQuMDggMjAuMTdMMTc0LjA4IDIyWk0xODEuMjQgMjJMMTc4Ljg4IDIyTDE3OC44OCAxMy42MEwxODEuMjQgMTMuNjBMMTgxLjI0IDE3LjA5TDE4NC40OSAxMy42MEwxODcuMTAgMTMuNjBMMTgzLjY4IDE3LjMyTDE4Ny4yOCAyMkwxODQuNTMgMjJMMTgyLjEyIDE4Ljk1TDE4MS4yNCAxOS45MEwxODEuMjQgMjJaTTE5OC4xNCAyMkwxOTEuMzkgMjJMMTkxLjM5IDEzLjYwTDE5Ny45OCAxMy42MEwxOTcuOTggMTUuNDRMMTkzLjc1IDE1LjQ0TDE5My43NSAxNi44NUwxOTcuNDggMTYuODVMMTk3LjQ4IDE4LjYzTDE5My43NSAxOC42M0wxOTMuNzUgMjAuMTdMMTk4LjE0IDIwLjE3TDE5OC4xNCAyMlpNMjA5LjY5IDIyTDIwMi45NCAyMkwyMDIuOTQgMTMuNjBMMjA5LjUzIDEzLjYwTDIwOS41MyAxNS40NEwyMDUuMzAgMTUuNDRMMjA1LjMwIDE2Ljg1TDIwOS4wMyAxNi44NUwyMDkuMDMgMTguNjNMMjA1LjMwIDE4LjYzTDIwNS4zMCAyMC4xN0wyMDkuNjkgMjAuMTdMMjA5LjY5IDIyWk0yMTYuODcgMjJMMjE0LjQ5IDIyTDIxNC40OSAxMy42MEwyMTguMzMgMTMuNjBRMjE5LjQ3IDEzLjYwIDIyMC4zMSAxMy45OFEyMjEuMTUgMTQuMzUgMjIxLjYxIDE1LjA2UTIyMi4wNyAxNS43NiAyMjIuMDcgMTYuNzFMMjIyLjA3IDE2LjcxUTIyMi4wNyAxNy42NiAyMjEuNjEgMTguMzVRMjIxLjE1IDE5LjA1IDIyMC4zMSAxOS40MlEyMTkuNDcgMTkuODAgMjE4LjMzIDE5LjgwTDIxOC4zMyAxOS44MEwyMTYuODcgMTkuODBMMjE2Ljg3IDIyWk0yMTYuODcgMTUuNDdMMjE2Ljg3IDE3LjkzTDIxOC4xOSAxNy45M1EyMTguOTIgMTcuOTMgMjE5LjI5IDE3LjYxUTIxOS42NiAxNy4yOSAyMTkuNjYgMTYuNzFMMjE5LjY2IDE2LjcxUTIxOS42NiAxNi4xMiAyMTkuMjkgMTUuODBRMjE4LjkyIDE1LjQ3IDIxOC4xOSAxNS40N0wyMTguMTkgMTUuNDdMMjE2Ljg3IDE1LjQ3Wk0yMjkuMjAgMjJMMjI2LjgyIDIyTDIyNi44MiAxMy42MEwyMjkuMjAgMTMuNjBMMjI5LjIwIDIyWk0yMzYuNzAgMjJMMjM0LjM3IDIyTDIzNC4zNyAxMy42MEwyMzYuMzMgMTMuNjBMMjQwLjA0IDE4LjA3TDI0MC4wNCAxMy42MEwyNDIuMzYgMTMuNjBMMjQyLjM2IDIyTDI0MC40MSAyMkwyMzYuNzAgMTcuNTJMMjM2LjcwIDIyWk0yNDcuMTAgMTcuODBMMjQ3LjEwIDE3LjgwUTI0Ny4xMCAxNi41NCAyNDcuNzAgMTUuNTRRMjQ4LjI5IDE0LjU1IDI0OS4zNiAxMy45OVEyNTAuNDMgMTMuNDMgMjUxLjc3IDEzLjQzTDI1MS43NyAxMy40M1EyNTIuOTUgMTMuNDMgMjUzLjg5IDEzLjgzUTI1NC44MyAxNC4yMiAyNTUuNDUgMTQuOTdMMjU1LjQ1IDE0Ljk3TDI1My45NCAxNi4zM1EyNTMuMDkgMTUuNDAgMjUxLjkxIDE1LjQwTDI1MS45MSAxNS40MFEyNTEuOTAgMTUuNDAgMjUxLjkwIDE1LjQwTDI1MS45MCAxNS40MFEyNTAuODIgMTUuNDAgMjUwLjE2IDE2LjA2UTI0OS40OSAxNi43MSAyNDkuNDkgMTcuODBMMjQ5LjQ5IDE3LjgwUTI0OS40OSAxOC41MCAyNDkuODAgMTkuMDRRMjUwLjEwIDE5LjU5IDI1MC42NCAxOS44OVEyNTEuMTggMjAuMjAgMjUxLjg3IDIwLjIwTDI1MS44NyAyMC4yMFEyNTIuNTYgMjAuMjAgMjUzLjE2IDE5LjkzTDI1My4xNiAxOS45M0wyNTMuMTYgMTcuNjJMMjU1LjI1IDE3LjYyTDI1NS4yNSAyMS4xMFEyNTQuNTMgMjEuNjEgMjUzLjYwIDIxLjg5UTI1Mi42NiAyMi4xNyAyNTEuNzMgMjIuMTdMMjUxLjczIDIyLjE3UTI1MC40MSAyMi4xNyAyNDkuMzUgMjEuNjFRMjQ4LjI5IDIxLjA1IDI0Ny43MCAyMC4wNVEyNDcuMTAgMTkuMDYgMjQ3LjEwIDE3LjgwWiIgZmlsbD0iI0ZGRkZGRiIgeD0iMTMyLjU2Ii8+PC9zdmc+)](https://forthebadge.com)

[![forthebadge](https://forthebadge.com/images/badges/contains-technical-debt.svg)](https://forthebadge.com)

[![forthebadge](https://forthebadge.com/images/badges/uses-badges.svg)](https://forthebadge.com)
![allegro screenshot](/screenshot.png?raw=true "allegro screenshot")

## About Allegro

> What is this thing?

This is Allegro, built to make time entry for busy developers less of a headache.
It will look for any tickets you're assigned in Jira for the currently open sprints,
ask you for any other tickets you've worked on, then it will make sure you've logged
8 hours a day to tickets, spread evenly across them.

> Does timekeeping actually take that much time?

Maybe not on a daily basis, but it can add up, certainly. Especially when you're trying
to recall what you worked on last week.

> This is ridiculous.

Thanks, I'm a ridiculous person, so that tracks.

> You're gonna break my computer, aren't you?

This isn't user-proof code. You'll need to use your years of experience and highly honed developer senses
to make sure you enter the required information correctly. **Allegro does not fail gracefully.** You will
have a chance to give final approval before it submits anything to jira, though, so you're safe
until that point.

## Installing, a.k.a. easy mode

macOs

```
sudo curl https://raw.githubusercontent.com/JudgeSansDredd/allegro/master/dist/macos/allegro --output /usr/local/bin/allegro && sudo chmod +x /usr/local/bin/allegro
```

debian

```
sudo curl https://raw.githubusercontent.com/JudgeSansDredd/allegro/master/dist/debian/allegro --output /usr/local/bin/allegro && sudo chmod +x /usr/local/bin/allegro
```

## Configuration

> It's asking me a lot of weird questions. What's the deal?

On first run, Allegro will ask for needed configuration, such as your Jira
Access key, email address, etc. It's writing the configuration to `~/.allegro/config.ini`,
so it won't have to ask each time.

> Okay, sure, but what do these things _mean?_

- `JIRA_SERVER`: This is the domain of your Jira environment, i.e. the url you go to to
  visit Jira (e.g. `https://your-company.atlassian.net`)
- `EMAIL_ADDRESS`: This is your email address your Jira account is associated with
- `JIRA_KEY`: This can be found at https://id.atlassian.com/manage-profile/security
  api-tokens. You may need to generate a key, if you haven't already
- `PROJECT_KEY`: This is the letter designation in front of your Jira tickets. For
  example, if your tickets are numbered like `ABC-123`, then your `PROJECT_KEY` is `ABC`
- `INCREMENT_SECONDS`: How granular do you want your timekeeping to be, measured in
  seconds. For example, if you want Allegro to add time to your calendar in 15 minute
  blocks, you would set your `INCREMENT_SECONDS` to `900`
- `OVERCLOCK_CHANCE`: To add some "fuzziness" to time entry, Allegro will occasionally
  bill slightly more time to a task than is needed. `OVERCLOCK_CHANCE` represents the percentage chance that this occurs, e.g. `20` represents a 20% chance that a task gets
  "overclocked."
- `OVERCLOCK_RANGE`: The number of increments allowed to be overclocked. In other words,
  if Allegro decides to overclock a task (based on `OVERCLOCK_CHANCE`), it will choose a number of blocks between 1 and `OVERCLOCK_RANGE`, and add that many additional increments (based on `INCREMENT_SECONDS`) to the task

## To Develop, or Run from Source

1. _Optional:_ Create a python virtual environment, then activate it

   ```
   python3 -m venv venv
   source venv/bin/activate
   ```

2. Install python requirements

   ```
   pip3 install -r requirements.txt
   ```

3. Ready to run!
   ```
   python3 allegro.py
   ```

## Building from source

> Okay, I don't trust your bogus curl command, can I just build this from source?

I mean, sure. Clone the repo, and run `./build.sh`. Note that this _only_ works for Linux and Mac.
It'll put a binary at `./dist/[macos | debian]/allegro` depending on your OS.
